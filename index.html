<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Examen UANL</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div class="container">
        <h1>Simulador de Examen UANL</h1>

        <!-- ÁREA DE LOGIN -->
        <div id="login-area">
            <h2>Iniciar Sesión para Acceder</h2>
            <button id="login-google-btn">
                <img src="https://developers.google.com/identity/images/btn_google_signin_light_normal_web.png" alt="Iniciar sesión con Google" style="height: 40px; border: 0;">
            </button>
            <p id="login-error" class="error-message"></p>
        </div>

        <!-- ÁREA DE INFORMACIÓN DEL USUARIO Y CIERRE DE SESIÓN (se muestra después del login) -->
        <div id="user-info-area" class="hidden">
            <p>Bienvenido, <span id="user-email-display"></span></p>
            <button id="logout-btn">Cerrar Sesión</button>
        </div>
        
        <hr id="separator" class="hidden"> 

        <!-- ÁREA DE CONFIGURACIÓN DEL EXAMEN (se muestra después del login exitoso y autorización) -->
        <div id="setup-area" class="hidden">
            <p>Se cargarán 200 preguntas aleatorias de todas las materias.</p>
            <button id="start-exam-btn">Iniciar Examen</button>
        </div>

        <!-- ÁREA DEL EXAMEN (se muestra al iniciar examen) -->
        <div id="exam-area" class="hidden">
            <div id="question-container">
                <h2 id="question-subject">Materia</h2>
                <p id="question-text">Aquí va la pregunta...</p>
                <div id="options-container">
                    <!-- Las opciones se generarán aquí -->
                </div>
                <div id="feedback-area">
                    <p id="feedback-text"></p>
                    <p id="explanation-text" class="explanation"></p>
                </div>
                <button id="next-question-btn" class="hidden">Siguiente Pregunta</button>
            </div>

            <div id="scoreboard">
                <h3>Marcador</h3>
                <p>Pregunta: <span id="current-q-number">0</span> / <span id="total-q-number">0</span></p>
                <p>Correctas: <span id="score-correct">0</span></p>
                <p>Incorrectas: <span id="score-incorrect">0</span></p>
            </div>
        </div>

        <!-- ÁREA DE RESULTADOS (se muestra al finalizar examen) -->
        <div id="results-area" class="hidden">
            <h2>Resultados Finales</h2>
            <p>Preguntas Totales: <span id="final-total"></span></p>
            <p>Respuestas Correctas: <span id="final-correct"></span></p>
            <p>Respuestas Incorrectas: <span id="final-incorrect"></span></p>
            <p>Calificación: <span id="final-percentage"></span>%</p>
            <button id="restart-exam-btn">Reiniciar Examen</button>
        </div>
    </div>

    <!-- SDK de Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script> {/* SDK de Firestore */}

    <script src="assets/script.js"></script> 
</body>
</html>